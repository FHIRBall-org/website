---
import { getCollection } from 'astro:content';
import BaseLayout from '../layouts/BaseLayout.astro';
import MemberCard from '../components/MemberCard.astro';

const members = await getCollection('members');
const sortedMembers = members.sort((a, b) =>
  a.data.name.localeCompare(b.data.name)
);
---

<BaseLayout title="Our Members" description="Meet the members of the FHIRBall Alliance">
  <!-- Hero Section -->
  <section class="hero-bg relative py-20 bg-cover bg-center bg-no-repeat">
    <div class="max-w-6xl mx-auto px-4 text-center">
      <h1 class="text-5xl font-bold text-white">Our Members</h1>
      <p class="mt-6 text-xl text-white/90 max-w-2xl mx-auto">
        The FHIRBall Alliance brings together leading companies committed to advancing healthcare interoperability through FHIR.
      </p>
    </div>
  </section>

  <div class="max-w-6xl mx-auto px-4 py-12">
    <div class="grid gap-6">
      {sortedMembers.map((member) => (
        <MemberCard
          name={member.data.name}
          logo={member.data.logo}
          slug={member.id.replace(/\.md$/, '')}
          description={member.data.description}
        />
      ))}
    </div>
  </div>

  <!-- CTA Section -->
  <section class="cta-bg-group relative py-24 bg-cover bg-center bg-no-repeat">
    <div class="absolute inset-0 bg-text/70"></div>
    <div class="relative max-w-6xl mx-auto px-4 text-center">
      <h2 class="text-3xl font-bold text-white">Want to Join Our Alliance?</h2>
      <p class="mt-4 text-lg text-white/90">
        Become a member and help shape the future of healthcare interoperability.
      </p>
      <a
        href="/contact"
        class="inline-block mt-8 bg-primary hover:bg-primary-hover text-white px-8 py-3 rounded font-medium transition-colors"
      >
        Become a Member
      </a>
    </div>
  </section>
</BaseLayout>
