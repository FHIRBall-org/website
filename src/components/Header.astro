---
const navLinks = [
  { href: '/purpose', label: 'Purpose' },
  { href: '/why-fhir', label: 'Why FHIR' },
  { href: '/members', label: 'Our Members' },
  { href: '/resources', label: 'Resources' },
  { href: '/events', label: 'Industry Events' },
];

const currentPath = Astro.url.pathname;
---

<header class="sticky top-0 z-[1000] bg-white border-b border-[#dcdcdc] px-[10px]">
  <nav class="max-w-[1200px] mx-auto py-[15px] flex items-center justify-between">
    <div class="flex items-center">
      <a href="/" class="flex items-center">
        <img src="/images/logo.png" alt="FHIRBall" class="h-10" />
      </a>

      <!-- Desktop nav -->
      <div class="hidden md:flex items-center ml-8">
        {navLinks.map(link => (
          <a
            href={link.href}
            class:list={[
              'uppercase text-[14px] font-semibold leading-[20px] px-[10px] py-[20px] transition-colors',
              currentPath === link.href
                ? 'text-primary border-b border-primary'
                : 'text-text hover:text-[#ffdead]'
            ]}
          >
            {link.label}
          </a>
        ))}
      </div>
    </div>

    <div class="hidden md:flex items-center gap-5">
      <a
        href="/#contact"
        class="uppercase text-[14px] font-semibold border border-black bg-white text-black px-[10px] py-[10px] transition-all hover:border-primary hover:bg-primary hover:text-white hover:-translate-y-[3px]"
      >
        Contact Now
      </a>
      <a href="/search" class="block">
        <img src="/images/icons/search.svg" alt="Search" class="w-5 h-5" />
      </a>
    </div>

    <!-- Mobile menu button -->
    <button
      id="mobile-menu-btn"
      class="md:hidden p-2"
      aria-label="Toggle menu"
    >
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
      </svg>
    </button>
  </nav>

  <!-- Mobile nav -->
  <div id="mobile-menu" class="hidden md:hidden border-t border-border">
    <div class="px-4 py-4 space-y-3">
      {navLinks.map(link => (
        <a
          href={link.href}
          class:list={[
            'block uppercase text-[14px] font-semibold',
            currentPath === link.href ? 'text-primary' : 'text-text'
          ]}
        >
          {link.label}
        </a>
      ))}
      <a
        href="/#contact"
        class="block uppercase text-[14px] font-semibold border border-black text-black px-[10px] py-[10px] text-center mt-4"
      >
        Contact Now
      </a>
      <a
        href="/search"
        class="block uppercase text-[14px] font-semibold text-text mt-2"
      >
        Search
      </a>
    </div>
  </div>
</header>

<script>
  const mobileBtn = document.getElementById('mobile-menu-btn');
  const mobileMenu = document.getElementById('mobile-menu');

  mobileBtn?.addEventListener('click', () => {
    mobileMenu?.classList.toggle('hidden');
  });
</script>
